try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bed721c1-484a-49b2-a82d-9104514ce03f",e._sentryDebugIdIdentifier="sentry-dbid-bed721c1-484a-49b2-a82d-9104514ce03f")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7998,7689],{75442:function(e,t,n){"use strict";var a=n(57437),r=n(2265);n(92568);let i={about:()=>n.e(7507).then(n.bind(n,97507)),blog2:()=>n.e(4294).then(n.bind(n,94294)),discord2:()=>n.e(4030).then(n.bind(n,84030)),help2:()=>n.e(3811).then(n.bind(n,43811)),arrow:()=>n.e(1012).then(n.bind(n,81012)),blog:()=>n.e(5189).then(n.bind(n,15189)),checkmark:()=>n.e(8795).then(n.bind(n,28795)),chevronLeft:()=>n.e(6467).then(n.bind(n,6467)),chevronRight:()=>n.e(7944).then(n.bind(n,57944)),chat:()=>n.e(4988).then(n.bind(n,34988)),close:()=>n.e(9868).then(n.bind(n,9868)),closeSmall:()=>n.e(9560).then(n.bind(n,79560)),discord:()=>n.e(8151).then(n.bind(n,88151)),edit:()=>n.e(77).then(n.bind(n,80077)),gamepad:()=>n.e(1646).then(n.bind(n,1646)),guestUser:()=>n.e(1505).then(n.bind(n,91505)),heart:()=>n.e(7505).then(n.bind(n,7505)),help:()=>n.e(8113).then(n.bind(n,78113)),home:()=>n.e(3770).then(n.bind(n,3770)),joystick:()=>n.e(86).then(n.bind(n,90086)),loadingSpinner:()=>n.e(9879).then(n.bind(n,29879)),reload:()=>n.e(3146).then(n.bind(n,63146)),menu:()=>n.e(2963).then(n.bind(n,12963)),play:()=>n.e(5672).then(n.bind(n,25672)),plus:()=>n.e(8963).then(n.bind(n,58963)),gameCreatePlus:()=>n.e(2914).then(n.bind(n,82914)),puzzle:()=>n.e(4115).then(n.bind(n,74115)),search:()=>n.e(3167).then(n.bind(n,83167)),share:()=>n.e(9840).then(n.bind(n,89840)),shareLarge:()=>n.e(3292).then(n.bind(n,33292)),signOut:()=>n.e(5790).then(n.bind(n,85790)),sparkles:()=>n.e(3240).then(n.bind(n,3240)),star:()=>n.e(3421).then(n.bind(n,63421)),trash:()=>n.e(9716).then(n.bind(n,99716)),twitter:()=>n.e(6071).then(n.bind(n,16071)),user:()=>n.e(1139).then(n.bind(n,11139)),tiktok:()=>n.e(3403).then(n.bind(n,23403)),instagram:()=>n.e(1760).then(n.bind(n,71760)),expandArrows:()=>n.e(5976).then(n.bind(n,75976)),collapseArrows:()=>n.e(2631).then(n.bind(n,42631)),expandChat:()=>n.e(9217).then(n.bind(n,39217)),collapseChat:()=>n.e(3866).then(n.bind(n,23866)),x:()=>n.e(8232).then(n.bind(n,48232)),settings2:()=>n.e(5381).then(n.bind(n,15381)),share2:()=>n.e(8676).then(n.bind(n,28676)),trash2:()=>n.e(3423).then(n.bind(n,73423)),edit2:()=>n.e(4130).then(n.bind(n,4130)),plus2:()=>n.e(8045).then(n.bind(n,48045)),slideOut:()=>n.e(8305).then(n.bind(n,18305)),slideIn:()=>n.e(1784).then(n.bind(n,31784)),stop:()=>n.e(2393).then(n.bind(n,92393)),question:()=>n.e(2241).then(n.bind(n,82241)),info:()=>n.e(218).then(n.bind(n,50218)),discord3:()=>n.e(4256).then(n.bind(n,34256)),copy:()=>n.e(883).then(n.bind(n,10883)),checkmark2:()=>n.e(9822).then(n.bind(n,49822)),boxChecked:()=>n.e(9342).then(n.bind(n,39342)),boxUnchecked:()=>n.e(2502).then(n.bind(n,92502)),share3:()=>n.e(79).then(n.bind(n,60079)),google:()=>n.e(9558).then(n.bind(n,49558)),globe:()=>n.e(9609).then(n.bind(n,59609)),outbound:()=>n.e(4459).then(n.bind(n,54459)),search2:()=>n.e(7576).then(n.bind(n,97576))},s=new Map,o=e=>{let{name:t}=e,[n,o]=(0,r.useState)(()=>s.get(t)||null);return((0,r.useEffect)(()=>{!n&&i[t]&&i[t]().then(e=>{let n=()=>e.default;s.set(t,n),o(()=>n)})},[t,n]),n)?(0,a.jsx)(n,{"data-sentry-element":"IconComponent","data-sentry-component":"LazyIcon","data-sentry-source-file":"Icon.tsx"}):(0,a.jsx)("div",{className:"w-6 h-6"})};t.Z=e=>{let{name:t,className:n="",variant:s="transparent",...c}=e,d="".concat(t,"-icon");if(!i[t])return null;let u=n;return(t.includes("Large")&&(u+=" large"),t.includes("Small")&&(u+=" small"),null==c?void 0:c.onClick)?(0,a.jsx)("button",{className:"clickable-icon ".concat(s," ").concat(u),"data-testid":d,...c,"data-sentry-component":"Icon","data-sentry-source-file":"Icon.tsx",children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"w-6 h-6"}),"data-sentry-element":"Suspense","data-sentry-source-file":"Icon.tsx",children:(0,a.jsx)(o,{name:t,"data-sentry-element":"LazyIcon","data-sentry-source-file":"Icon.tsx"})})}):(0,a.jsx)("div",{"data-testid":d,className:u,children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"w-6 h-6"}),children:(0,a.jsx)(o,{name:t})})})}},80501:function(e,t,n){"use strict";var a=n(26914),r=n(27966);class i{async getAuthHeader(){let{useAuthStore:e}=await Promise.resolve().then(n.bind(n,46309)),t=e.getState();return t.accessToken||t.userId||null}buildUrl(e,t){let n=window.location.origin,a=new URL(e,this.baseURL||n);return t&&Object.entries(t).forEach(e=>{let[t,n]=e;null!=n&&a.searchParams.append(t,String(n))}),a.toString()}async parseResponse(e){return 204===e.status||"0"===e.headers.get("content-length")?{}:(e.headers.get("content-type")||"").includes("application/json")?e.json():{data:await e.text()}}async parseErrorResponse(e){if((e.headers.get("content-type")||"").includes("application/json"))try{let t=await e.json();return"string"==typeof t?t:JSON.stringify(t)}catch(t){return e.statusText}return await e.text()||e.statusText}async request(e,t){var i,s;let o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=!1!==c.retryOn401,u=await this.getAuthHeader();if(""===c.baseURL){let e=new URL(t);c.params&&Object.entries(c.params).forEach(t=>{let[n,a]=t;null!=a&&e.searchParams.append(n,String(a))}),o=e.toString()}else{let e=void 0!==c.baseURL?c.baseURL:this.baseURL;if(o=this.buildUrl(t,c.params),void 0!==c.baseURL&&c.baseURL!==this.baseURL){let t=new URL(o);t.hostname=new URL(e).hostname,t.port=new URL(e).port,t.protocol=new URL(e).protocol,o=t.toString()}}let l={};u&&(l.Authorization=u),!c.body||c.body instanceof FormData||(l["Content-Type"]="application/json");let h=null!==(i=c.timeout)&&void 0!==i?i:this.defaultTimeout,p=new AbortController,f=setTimeout(()=>p.abort(),h),b=null!==(s=c.signal)&&void 0!==s?s:p.signal;try{let i=await fetch(o,{method:e,headers:l,body:c.body?c.body instanceof FormData?c.body:JSON.stringify(c.body):void 0,credentials:"omit",signal:b});if(clearTimeout(f),!i.ok){if(401===i.status&&d)try{let{getSession:i}=await Promise.all([n.e(9191),n.e(7658)]).then(n.bind(n,19191));a.default.event(r.KA.API_SESSION_REFRESH_ATTEMPT);let s=await i();if(null==s?void 0:s.accessToken){a.default.event(r.KA.API_SESSION_REFRESH_SUCCESS);let{useAuthStore:i}=await Promise.resolve().then(n.bind(n,46309));return await i.getState().syncSession({session:s,status:"authenticated"}),this.request(e,t,{...c,retryOn401:!1})}a.default.event(r.KA.API_SESSION_REFRESH_FAILED_NO_ACCESS_TOKEN)}catch(e){a.default.event(r.KA.API_SESSION_REFRESH_FAILED_SESSION_CALL_FAILED)}let s=await this.parseErrorResponse(i),o=Error("HTTP ".concat(i.status,": ").concat(s));throw o.response=i,o}return{data:await this.parseResponse(i)}}catch(e){if(clearTimeout(f),"AbortError"===e.name)throw Error("Request timeout after ".concat(h,"ms"));throw e}}async get(e,t){return this.request("GET",e,t)}async post(e,t,n){return this.request("POST",e,{body:t,...n})}async put(e,t,n){return this.request("PUT",e,{body:t,...n})}async delete(e,t){return this.request("DELETE",e,t)}constructor(e="",t=3e4){this.baseURL=e,this.defaultTimeout=t}}let s=new i(("https://astrocade-api-prod.com".includes("astrocade.com")?"/api":"https://astrocade-api-prod.com")||"");t.Z=s},21106:function(e,t,n){"use strict";var a=n(26914),r=n(71786),i=n(27966);let s=async(e,t,n)=>{a.default.event(i.KA.SHARE_OVERLAY_COPY_SUCCESS,{shareLink:null!=e?e:"null",playMode:n?"false":"true"}),r.z.dismiss(),r.z.success(t,{id:"share_overlay_copy_success",duration:2e3})},o=e=>{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(t)}},c=async(e,t,n)=>{let{message:a,isEditModeShare:r}={message:"Link was copied to clipboard!",isEditModeShare:!1,...n};try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(e),await s(e,a,r);return}if(o(e)){await s(e,a,r);return}throw Error("Fallback copy failed")}catch(e){(null==t?void 0:t.current)&&t.current.select(),alert("Tap and hold the link to copy it manually.")}};t.Z=c},71786:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});let a=null,r=async()=>(a||(a=await n.e(6879).then(n.bind(n,96879))),a.toast),i={success:async(e,t)=>(await r()).success(e,t),error:async(e,t)=>(await r()).error(e,t),info:async(e,t)=>(await r()).info(e,t),dismiss:async e=>(await r()).dismiss(e)}},12605:function(e,t,n){"use strict";n.d(t,{F_:function(){return i},KI:function(){return d},Sq:function(){return r},cF:function(){return o},deleteGame:function(){return c},wK:function(){return s}});var a=n(80501);let r=async e=>(await a.Z.get("/v3/games",{params:e})).data,i=async e=>(await a.Z.get("/v3/games-search",{params:e})).data,s=async e=>(await a.Z.put("/v3/games",e)).data,o=async e=>(await a.Z.get("/v3/games",{params:e})).data,c=async e=>{let{gameId:t}=e;return(await a.Z.delete("/v3/games/".concat(t))).data},d=async e=>(await a.Z.get("/v3/games",{params:{...e,filter:"bookmarked"}})).data},7689:function(e,t,n){"use strict";n.d(t,{Iv:function(){return h},L9:function(){return u},Zw:function(){return g},getAmplitude:function(){return c},getSessionId:function(){return b},initializeAmplitude:function(){return d},mn:function(){return l},yV:function(){return p},yd:function(){return f}});var a=n(30981),r=n(26914);let i=null,s=!1,o=null,c=async()=>i||o||(o=Promise.all([n.e(7416),n.e(9099),n.e(7859)]).then(n.bind(n,7859)).then(e=>(i=e,e))),d=async()=>{if(s)return;let e=await c(),{sessionReplayPlugin:t}=await Promise.all([n.e(7416),n.e(7811)]).then(n.bind(n,97811)),i=t({sampleRate:.05,privacyConfig:{defaultMaskLevel:"light",maskSelector:[".sensitive",".password",'input[type="password"]','input[type="email"]',"[data-mask]"],blockSelector:[".no-capture","[data-no-capture]"],unmaskSelector:[".unmask","[data-unmask]"]},debugMode:!1,forceSessionTracking:!0,storeType:"idb"});e.add(i);let o=(0,a.T)();if(!o){r.default.error("[Amplitude] No device ID found - initialization blocked");return}r.default.info("[Amplitude] Initializing with device ID",{deviceId:o,isGuestId:String(o.startsWith("guest-")),deviceIdPrefix:o.substring(0,15),environment:"production"});let d={defaultTracking:!0,serverUrl:"https://dg9j119re9ujt.cloudfront.net/2/httpapi"};o&&(d.deviceId=o),await e.init("311ede03b35816c40a3a912d303162ec",d).promise,s=!0},u=async(e,t,n)=>{(await c()).track(e,t)},l=e=>{if(!navigator.sendBeacon)return console.warn("[Amplitude] sendBeacon not available"),!1;let t={api_key:"311ede03b35816c40a3a912d303162ec",events:[{event_type:e.eventType,event_properties:e.eventProperties||{},session_id:e.sessionId,device_id:e.deviceId,time:Date.now(),insert_id:"".concat(Date.now(),"-").concat(Math.random()),platform:"Web",os_name:navigator.userAgent,language:navigator.language}]};try{let e=navigator.sendBeacon("https://dg9j119re9ujt.cloudfront.net/2/httpapi",JSON.stringify(t));return e||console.error("[Amplitude] sendBeacon failed"),e}catch(e){return console.error("[Amplitude] sendBeacon error:",e),!1}},h=async e=>{let t=await c(),n=(0,a.T)();e&&!e.startsWith("guest-")?(r.default.info("[Amplitude] Setting authenticated user ID",{userId:e,deviceId:n||"none",isDeviceGuestId:String((null==n?void 0:n.startsWith("guest-"))||!1)}),t.setUserId(e)):(r.default.info("[Amplitude] Clearing user ID (guest mode)",{previousUserId:e||"none",deviceId:n||"none",isDeviceGuestId:String((null==n?void 0:n.startsWith("guest-"))||!1)}),t.setUserId(void 0))},p=async e=>{(await c()).identify(e)},f=async()=>new(await c()).Identify,b=async()=>{if(s)return(await c()).getSessionId()},g=()=>{if(s&&i){let e=i.getDeviceId();if(e)return e}return null}},67457:function(e,t,n){"use strict";n.d(t,{Gm:function(){return i},We:function(){return s},v4:function(){return a},x3:function(){return r}});let a=256,r=4194304,i=3,s=["jpg","jpeg","png","gif","webp"]},18023:function(e,t,n){"use strict";function a(e){let t=e;return(e>10&&(t=e>500?e+5880+(e-500)*4:e+(e-10)*12),(t=Math.round(t))>=1e6)?"".concat((t/1e6).toFixed(1),"M"):t>=1e3?"".concat((t/1e3).toFixed(1),"K"):t<=0?"0":t.toString()}n.d(t,{I:function(){return a}})},60270:function(e,t,n){"use strict";n.d(t,{F:function(){return r},W:function(){return i}});var a=n(67457);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.v4;return e?e.includes("res.cloudinary.com")?e.replace("image/upload/","image/upload/c_fill,w_".concat(t,",h_").concat(t,",f_webp/")):e:""}let i=r},54852:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var a=n(26914),r=n(27966);function i(e){try{if(!e)return"untitled";return e.toLowerCase().trim().replace(/[\s_:;,.\\/]+/g,"-").replace(/['"()[\]{}]/g,"").replace(RegExp("[^\\p{L}\\p{N}\\p{M}-]+","gu"),"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"")||"untitled"}catch(t){return a.default.event(r.KA.SLUGIFY_ERROR,{text:e,error:t}),"untitled"}}let s=()=>{let e="";try{let t=window.location.href.match(/(https?:\/\/[^\/]+)/);e=t&&t[1]?t[1]:"https://www.astrocade.com"}catch(t){a.default.error("[ShareOverlay] Error getting current URL",{error:t instanceof Error?t.message:String(t)}),e="https://www.astrocade.com"}return e},o=e=>"".concat(s(),"/users/").concat(e),c=(e,t)=>{if(!t)return a.default.error("[getUrl] No data provided for URL generation"),"";switch(e){case"profile":if("string"!=typeof t)return a.default.error("[getUrl] Profile URL requires a username string"),"";return o(t);case"game":if("string"==typeof t){let e=i("untitled");return"".concat(s(),"/games/").concat(e,"/").concat(t)}{let e=i(t.title||"untitled"),n="".concat(s(),"/games/").concat(e,"/").concat(t.gameId),a=new URLSearchParams;t.sharedByCreator&&a.append("sharedByCreator",t.sharedByCreator),t.sharedByPlayer&&a.append("sharedByPlayer",t.sharedByPlayer);let r=a.toString();return r?"".concat(n,"?").concat(r):n}default:return a.default.error("[getUrl] Invalid URL type provided"),""}}},87225:function(e,t,n){"use strict";n.d(t,{PY:function(){return i},tH:function(){return o},uu:function(){return s}});var a=n(59901);let r="guestUserId";function i(){try{return localStorage.getItem(r)}catch(e){return null}}function s(){try{let e=localStorage.getItem(r);return e||(e="guest-".concat((0,a.SK)()),localStorage.setItem(r,e)),e}catch(e){return"guest-".concat((0,a.SK)())}}function o(e){return!!e&&e.startsWith("guest-")}},92568:function(){}}]);